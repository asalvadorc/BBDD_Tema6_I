<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/BBDD_POSTGRESQL/BD_PostgreSQL_DQL/11_consulta_de_creaci_de_taules/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>11. Consulta de creació de taules - BD - Bases de Dades</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
        <link href="../../img/favicon.ico" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "11. Consulta de creaci\u00f3 de taules";
        var mkdocs_page_input_path = "BD_PostgreSQL_DQL/11_consulta_de_creaci_de_taules.md";
        var mkdocs_page_url = "/BBDD_POSTGRESQL/BD_PostgreSQL_DQL/11_consulta_de_creaci_de_taules/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">SQL - POSTGRES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../objectius_i_coneixements_previs/">Objectius i Coneixements previs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_client_dbeaver_installaci_i_confiuraci/">2. DBeaver</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_dades_dels_exemples_i_els_exercicis/">3 Dades dels exemples i els exercicis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >4. Operadors i Funcions de Postgres</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../6_operadors/">4.1. Operadors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../7_funcions/">4.2. Funcions</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DQL Consultes (part I)</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../1_la_consulta_select/">1. La consulta SELECT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_consulta_bsica/">2. Consulta bàsica</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_lies_en_les_columnes/">3. Àlies en les columnes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_la_clusula_where/">4. La clàusula WHERE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_funcions_dagregat/">5. Funcions d'agregat</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../6_la_clusula_group_by/">6. La clàusula GROUP BY</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../7_la_clusula_having/">7. La clàusula HAVING</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../8_la_clusula_order_by/">8. La clàusula ORDER BY</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../9_el_predicat_distinct/">9. El predicat DISTINCT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../10_la_clusula_limit__offset/">10. La clàusula LIMIT .. OFFSET</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">11. Consulta de creació de taules</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#exercicis">Exercicis</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../12_ordre_amb_qu_sexecuta_una_sentncia_sql/">12. Ordre amb que s'executa una sentència SQL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis amb els resultats (part I)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DQL Consultes avançades (part II)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/21_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/22_combinacions_de_taules/">2. Combinacions de taules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/23_subconsultes/">3. Subconsultes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/24_consultes_doperacions_de_conjunts/">4. Consultes d'operacions de conjunts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis amb els resultats (part II)</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">BD - Bases de Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">DQL Consultes (part I)</li>
      <li class="breadcrumb-item active">11. Consulta de creació de taules</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="11-consulta-de-creacio-de-taules">11. Consulta de creació de taules</h1>
<p>A banda de poder consultar informació de una o més d'una taula, la sentència
SELECT pot servir per a crear una nova taula, amb estructura i dades (les que
venen de la pròpia sentència SELECT). Això sí, no podrem definir d'aquesta
manera ni clau principal, ni claus externes, ni cap altra restricció de les
conegudes.</p>
<p>A més, aquesta característica escapa del estàndard ANSI SQL, per la qual cosa
no li donarem excessiva importància.</p>
<p><strong><u>Sintaxi</u></strong>
<div class="highlight"><pre><span></span><code>SELECT &lt;columnes&gt; INTO nova_taula  
  FROM &lt;taules&gt;
</code></pre></div>
La sentència pot dur qualsevol clàusula o predicat dels vistos fins ara, i el
resultat que done aquesta sentència, es guardarà en una nova taula, amb el nom
especificat.</p>
<p>El nom dels camps de la nova taula seran els especificats en l'apartat
<columnes>. Per tant és especialment recomanable la utilització d'àlies, ja
que si en posem seran el noms dels camps de la nova taula.</p>
<p>Els tipus de dades dels camps seran els heretats de la consulta SELECT.</p>
<p>En cas d'existir ja una taula amb el nom especificat ens avisarà d'aquest fet,
donant-nos la possibilitat d'esborrar la taula anterior i crear la nova o
cancelar.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>És molt recomanable, com d'altres sentències de manipulació de dades que
veurem més endavant, executar primer la sentència sense el <b>INTO</b> , per a
no crear la taula encara. Quan estiguem segurs que el resultat és el que
desitgem, afegim el INTO, i la taula es crearà a més garanties.</p>
</div>
<p><strong><u>Exemples</u></strong></p>
<p>1) Crear una còpia de la taula comarques anomenada <strong>COMARQUES_COPIA</strong>.
<div class="highlight"><pre><span></span><code>SELECT * INTO COMARQUES_COPIA  
  FROM COMARQUES
</code></pre></div>
Per a no "embrutar" la Base de Dades, podem esborrar-la després d'haver vist
la seua creació amb la sentència
<div class="highlight"><pre><span></span><code>DROP TABLE COMARQUES_COPIA
</code></pre></div>
  2) Crear una taula anomenada <strong>RESUM_COMARQUES</strong> que continga el nom de la comarca, el número de pobles, el total de població i l'altura mitjana
<div class="highlight"><pre><span></span><code>SELECT nom_c, COUNT(*) AS num_pobles, SUM(poblacio) AS poblacio , SUM(extensio) AS extensio , AVG(altura) AS altura_mitjana INTO RESUM_COMARQUES  
  FROM POBLACIONS  
  GROUP BY nom_c
</code></pre></div>
Igual que en l'anterior, després d'haver vist la seua creació i contingut,
podem esborrar-la amb la sentència
<div class="highlight"><pre><span></span><code>DROP TABLE RESUM_COMARQUES
</code></pre></div></p>
<h2 id="exercicis"><img alt="✏️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/270f.png" title=":pencil2:" /> Exercicis</h2>
<p><strong>Ex_49</strong> Crear una taula anomenada <strong>ARTICLE_999x</strong> , on 999 han de ser les 3
últimes xifres del DNI, i x la lletra del teu NIF, que siga una còpia de la
taula ARTICLE, però substituint els valors nuls de <strong>stock</strong> i <strong>stock_min</strong>
per zeros.</p>
<p><strong>Ex_50</strong> Utilitzar la taula anterior per a traure el stock màxim, el mínim i
la mitjana de stocks. Observeu que si utilitzàrem la taula ARTICLE, els
resultats no serien els mateixos (excepte el màxim), sobretot la mitjana, ja
que els valors nuls no entrarien en els càlculs d'aquesta mitjana.</p>
<p>Llicenciat sota la  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial
CompartirIgual 3.0</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../10_la_clusula_limit__offset/" class="btn btn-neutral float-left" title="10. La clàusula LIMIT .. OFFSET"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../12_ordre_amb_qu_sexecuta_una_sentncia_sql/" class="btn btn-neutral float-right" title="12. Ordre amb que s'executa una sentència SQL">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../10_la_clusula_limit__offset/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../12_ordre_amb_qu_sexecuta_una_sentncia_sql/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
