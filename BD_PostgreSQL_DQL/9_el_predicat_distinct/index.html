<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/BBDD_POSTGRESQL/BD_PostgreSQL_DQL/9_el_predicat_distinct/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>9. El predicat DISTINCT - BD - Bases de Dades</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
        <link href="../../img/favicon.ico" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "9. El predicat DISTINCT";
        var mkdocs_page_input_path = "BD_PostgreSQL_DQL/9_el_predicat_distinct.md";
        var mkdocs_page_url = "/BBDD_POSTGRESQL/BD_PostgreSQL_DQL/9_el_predicat_distinct/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">SQL - POSTGRES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../objectius_i_coneixements_previs/">Objectius i Coneixements previs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_client_dbeaver_installaci_i_confiuraci/">2. DBeaver</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_dades_dels_exemples_i_els_exercicis/">3 Dades dels exemples i els exercicis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >4. Operadors i Funcions de Postgres</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../6_operadors/">4.1. Operadors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../7_funcions/">4.2. Funcions</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DQL Consultes (part I)</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../1_la_consulta_select/">1. La consulta SELECT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_consulta_bsica/">2. Consulta bàsica</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_lies_en_les_columnes/">3. Àlies en les columnes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_la_clusula_where/">4. La clàusula WHERE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_funcions_dagregat/">5. Funcions d'agregat</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../6_la_clusula_group_by/">6. La clàusula GROUP BY</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../7_la_clusula_having/">7. La clàusula HAVING</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../8_la_clusula_order_by/">8. La clàusula ORDER BY</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">9. El predicat DISTINCT</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#exercicis">Exercicis</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../10_la_clusula_limit__offset/">10. La clàusula LIMIT .. OFFSET</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../11_consulta_de_creaci_de_taules/">11. Consulta de creació de taules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../12_ordre_amb_qu_sexecuta_una_sentncia_sql/">12. Ordre amb que s'executa una sentència SQL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis amb els resultats (part I)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DQL Consultes avançades (part II)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/21_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/22_combinacions_de_taules/">2. Combinacions de taules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/23_subconsultes/">3. Subconsultes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/24_consultes_doperacions_de_conjunts/">4. Consultes d'operacions de conjunts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis amb els resultats (part II)</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">BD - Bases de Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">DQL Consultes (part I)</li>
      <li class="breadcrumb-item active">9. El predicat DISTINCT</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="9-el-predicat-distinct">9. El predicat DISTINCT</h1>
<p>Per defecte, si no especifiquem el contrari, eixiran <em>totes</em> les files de la
taula o taules que acomplesquen les condicions. Així, per exemple, si de la
taula d'instituts volguérem treure únicament el codi de la població, ens
eixiria per exemple 12040 (el codi de Castelló) en tantes files com instituts
de Castelló tinguem (concretament 14). És el mateix resultat que si haguérem
posat el predicat <strong>ALL</strong> davant de les columnes, ja que aquest és el predicat
per defecte:
<div class="highlight"><pre><span></span><code>SELECT ALL cod_m  
  FROM INSTITUTS
</code></pre></div>
Aquest resultat no és el correcte, si volem consultes com "Poblacions on hi ha
instituts". Seria millor si isquera 12040 només una vegada. Açò ho
aconseguirem amb el predicat DISTINCT.</p>
<p>En definitiva el que farà el predicat DISTINCT serà traure les files diferents
del resultat que demanem. Si només demanem un camp, traurà els valors
diferents d'aquest camp. Si demanem més d'un camp, traurà els valors diferents
per al conjunt dels camps (és a dir les files diferents, que en un camp poden
coincidir, però no en el conjunt de tots els camps)</p>
<p><strong><u>Sintaxi</u></strong>
<div class="highlight"><pre><span></span><code>SELECT DISTINCT &lt;columnes &gt;  
  FROM &lt;taules&gt;
</code></pre></div>
Així, en l'exemple anterior:
<div class="highlight"><pre><span></span><code>SELECT DISTINCT cod_m  
  FROM INSTITUTS
</code></pre></div>
Hi ha una variant del DISTINCT que suporta PostgreSQL, però que no suporten
altres SGBD més senzills, com Access o LibreOffice Base. És posar el DISTINCT
dins d'una funció d'agregat, com per exemple COUNT. El resultat és que
comptarà (o la funció implicada: sumarà calcularà la mitjana, ...) els valors
diferents del camp que vaja a continuació.</p>
<p>Així per exemple, si volem comptar en quantes poblacions diferents tenim
instituts, la consulta és tan senzilla com aquesta:
<div class="highlight"><pre><span></span><code>SELECT COUNT(DISTINCT cod_m)  
  FROM INSTITUTS
</code></pre></div>
<strong><u>Exemples</u></strong></p>
<p>1) Traure les diferents provincies.
<div class="highlight"><pre><span></span><code>SELECT DISTINCT provincia  
  FROM COMARQUES
</code></pre></div>
  2) Traure els distints districtes (codis postals) de Castelló (codi de municipi 12040) on hi ha instituts
<div class="highlight"><pre><span></span><code>SELECT DISTINCT codpostal  
  FROM INSTITUTS  
  WHERE cod_m=12040
</code></pre></div>
  3) Traure les distintes comarques i llengües que es parlen en elles
<div class="highlight"><pre><span></span><code>SELECT DISTINCT nom_c , llengua  
  FROM POBLACIONS  
  ORDER BY 1
</code></pre></div></p>
<h2 id="exercicis"><img alt="✏️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/270f.png" title=":pencil2:" /> Exercicis</h2>
<p><strong>Ex_39</strong> Traure els venedors que han venut alguna cosa el mes de gener de
2015.</p>
<p><strong>Ex_40</strong> Traure els diferents tipus d'IVA que s'han aplicat a les factures de
cada venedor, també durant el mes de gener de 2015</p>
<p><strong>Ex_41</strong> Traure els diferents caps de venedors (eviteu que aparega el valor
nul)</p>
<p><strong>Ex_42</strong> Traure els diferents descomptes que s'han aplicat als articles, el
codi dels quals comença per <strong>SAT</strong>. Traure tant el codi d'article com el
descompte.</p>
<p><strong>43</strong> Comptar en quantes poblacions tenim clients</p>
<p>Llicenciat sota la  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial
CompartirIgual 3.0</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../8_la_clusula_order_by/" class="btn btn-neutral float-left" title="8. La clàusula ORDER BY"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../10_la_clusula_limit__offset/" class="btn btn-neutral float-right" title="10. La clàusula LIMIT .. OFFSET">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../8_la_clusula_order_by/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../10_la_clusula_limit__offset/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
