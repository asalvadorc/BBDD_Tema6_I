<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://asalvadorc.github.io/BBDD_POSTGRESQL/BD_PostgreSQL_DQL/2_consulta_bsica/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>2. Consulta bàsica - BD - Bases de Dades</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../css/extra.css" rel="stylesheet" />
        <link href="../../img/favicon.ico" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "2. Consulta b\u00e0sica";
        var mkdocs_page_input_path = "BD_PostgreSQL_DQL/2_consulta_bsica.md";
        var mkdocs_page_url = "/BBDD_POSTGRESQL/BD_PostgreSQL_DQL/2_consulta_bsica/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../..">
          <img src="../../assets/logocaminas.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">SQL - POSTGRES</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../objectius_i_coneixements_previs/">Objectius i Coneixements previs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_client_dbeaver_installaci_i_confiuraci/">2. DBeaver</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_dades_dels_exemples_i_els_exercicis/">3 Dades dels exemples i els exercicis</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >4. Operadors i Funcions de Postgres</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../6_operadors/">4.1. Operadors</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../7_funcions/">4.2. Funcions</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DQL Consultes (part I)</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../1_la_consulta_select/">1. La consulta SELECT</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">2. Consulta bàsica</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#exercicis">Exercicis</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../3_lies_en_les_columnes/">3. Àlies en les columnes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_la_clusula_where/">4. La clàusula WHERE</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../5_funcions_dagregat/">5. Funcions d'agregat</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../6_la_clusula_group_by/">6. La clàusula GROUP BY</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../7_la_clusula_having/">7. La clàusula HAVING</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../8_la_clusula_order_by/">8. La clàusula ORDER BY</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../9_el_predicat_distinct/">9. El predicat DISTINCT</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../10_la_clusula_limit__offset/">10. La clàusula LIMIT .. OFFSET</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../11_consulta_de_creaci_de_taules/">11. Consulta de creació de taules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../12_ordre_amb_qu_sexecuta_una_sentncia_sql/">12. Ordre amb que s'executa una sentència SQL</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis amb els resultats (part I)</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">DQL Consultes avançades (part II)</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/21_introducci/">1. Introducció</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/22_combinacions_de_taules/">2. Combinacions de taules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/23_subconsultes/">3. Subconsultes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/24_consultes_doperacions_de_conjunts/">4. Consultes d'operacions de conjunts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../BD_PostgreSQL_DQL_Avancat/exercicis_de_tot_el_tema_amb_els_resultats/">Exercicis amb els resultats (part II)</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">BD - Bases de Dades</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">DQL Consultes (part I)</li>
      <li class="breadcrumb-item active">2. Consulta bàsica</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="2-consulta-basica">2. Consulta bàsica</h1>
<p>El mínim que s'ha d'indicar en una instrucció SELECT és les columnes que volem
i la seua procedència, que pot ser una o més d'una taula.</p>
<p><strong><u>Sintaxi</u></strong>
<div class="highlight"><pre><span></span><code>SELECT &lt;columnes&gt;
  FROM &lt;clàusula&gt;
</code></pre></div>
Opcionalment la sentència pot acabar en <strong>punt i coma</strong>. En <strong>psql</strong> és
obligatori acabar en punt i coma, ja que és la manera que té de saber que
acaba la instrucció (una instrucció pot ocupar més d'una línia)</p>
<p>I una altra consideració important és que en PostgreSQL els noms dels objectes
(taules, columnes, ...) poden constar de més d'una paraula. Si el nom només
consta d'una paraula es pot posar sense més problemes, però si consta de més
d'una paraula (amb espis en blanc pel mig) o té algun caràcter especial, o
coincideix amb alguna paraula reservada (per exemple <em><strong>any</strong></em>), haurà d'anar
entre <strong>cometes dobles</strong>. Per a estalviar problemes, és una bona pràctica fer
els noms sempre d'una paraula (si es volen posar dues, unides pel guió baix).</p>
<p>En <strong><columnes></strong> podrem posar (separades per <strong>comes</strong>):</p>
<ul>
<li>
<p><strong>noms de les columnes</strong> que volem; si hi ha confusió entre noms de camps de distintes taules, haurem de posar <strong>Taula.columna</strong>.</p>
</li>
<li>
<p>***** : indica totes les columnes.</p>
</li>
<li>
<p><strong>Taula.</strong>* : indica totes les columnes de la taula.</p>
</li>
<li>
<p><strong>Funcions</strong> (veure apartat  <em>Operadors i Funcions de Postgres</em>)</p>
</li>
<li>
<p><strong>Constants</strong> : son valors que posem directament. Els tipus de constants són:</p>
<ul>
<li><strong>Numèriques</strong> : es posen tal qual, amb punt decimal (no pot anar coma decimal, perquè serveix per a separar les columnes)</li>
<li><strong>Alfaumèriques</strong> : es posen entre <strong>cometes simples</strong></li>
<li>Per a altres tipus (com per exemple data-hora), posem la constant entre cometes simples, i PostgreSQL farà la conversió</li>
<li><strong>Expressions</strong> que utilitzen operadors per a combinar columnes, funcions, constants numèriques o alfanumèriques, ...</li>
</ul>
</li>
</ul>
<p>En la <strong><clàusula></strong> del <strong>FROM</strong> posarem la taula o les taules (separades
per comes) d'on venen les dades.</p>
<p>Així el següent exemple trau tota la informació de la taula COMARQUES, és a
dir totes les files i totes les columnes:
<div class="highlight"><pre><span></span><code>SELECT * FROM COMARQUES;
</code></pre></div>
Mentre que la següent només trau el nom:
<div class="highlight"><pre><span></span><code>SELECT nom_c FROM COMARQUES;
</code></pre></div>
En el següent exemple es trau el nom de cada població, els habitants,
l'extensió i la densitat de població (habitants partit per extensió):
<div class="highlight"><pre><span></span><code>SELECT nom , poblacio , extensio , poblacio/extensio FROM POBLACIONS;
</code></pre></div>
I en aquest traem el nom de cada poble, l'altura i la mitat de la seua altura
(cosa un poc absurda però que serveix per a remarcar que si posem una constant
numèrica, hem de posar el <strong>punt decimal</strong> , no la coma decimal, ja que la
coma serveix per a separar els camps) :
<div class="highlight"><pre><span></span><code>SELECT nom , altura , altura * 0.5 FROM POBLACIONS;
</code></pre></div>
<strong><u>Exemples</u></strong></p>
<p>1) Traure tota la informació de la taula POBLACIONS.
<div class="highlight"><pre><span></span><code>SELECT * FROM POBLACIONS;
</code></pre></div>
  2) Traure el nom i l'altura de totes les poblacions.
<div class="highlight"><pre><span></span><code>SELECT nom, altura  
  FROM POBLACIONS;
</code></pre></div>
  3) Traure el nom de les poblacions, el número d'habitants, i aquest número incrementat en un 5%.
<div class="highlight"><pre><span></span><code>SELECT nom, poblacio, poblacio * 1.05  
  FROM POBLACIONS;
</code></pre></div>
Observa com hem d'utilitzar el punt decimal i no la coma decimal, ja que la
coma serveix per a separar els camps de la consulta SQL</p>
<p>4) Traure nom, latitud i els graus de la latitud de totes les poblacions. Per a traure els graus de la latitud traurem els caràcters de l'esquerra, fins el primer el caràcter º.
<div class="highlight"><pre><span></span><code>SELECT nom, latitud, SUBSTR(latitud,1,STRPOS(latitud,&#39;º&#39;)-1)  
  FROM POBLACIONS;
</code></pre></div></p>
<h2 id="exercicis"><img alt="✏️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/270f.png" title=":pencil2:" /> Exercicis</h2>
<p>En la BD <strong>factura</strong> , connectant com a usuari <strong>factura_alu</strong> :</p>
<blockquote>
<p><strong>Ex_1</strong> Traure tota la informació dels pobles.</p>
<p><strong>Ex_2</strong> Traure el codi postal, el nom i l'adreça, per aquest ordre, de tots
els venedors.</p>
<p><strong>Ex_3</strong> Traure el codi d'article, la descripció, preu i preu incrementat en
un 5%, de tots els articles.</p>
<p><strong>Ex_4</strong> Traure la informació dels clients amb el següent format (ha d'anar
tot en una columna):</p>
<blockquote>
<p><strong>Damborenea Corbato, Alicia. CALLE MADRID, 83 (12425)</strong>
</p>
<p>Fixeu-vos que està tot en una columna, i per tant haureu de concatenar de
la forma adequada. Fixeu-vos també que en en el nom només les inicials estan
en majúscules</p>
</blockquote>
</blockquote>
<p>Llicenciat sota la  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Llicència Creative Commons Reconeixement NoComercial
CompartirIgual 3.0</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../1_la_consulta_select/" class="btn btn-neutral float-left" title="1. La consulta SELECT"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../3_lies_en_les_columnes/" class="btn btn-neutral float-right" title="3. Àlies en les columnes">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../1_la_consulta_select/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../3_lies_en_les_columnes/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
